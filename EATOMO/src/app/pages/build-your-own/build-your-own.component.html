<app-header></app-header>

<!-- Sub Navigation -->
<div class="sub-nav">
  <div class="container">
    <div class="sub-nav-links">
      <a routerLink="/build-your-own" class="sub-nav-link active">Build your own</a>
      <a routerLink="/our-bowls" class="sub-nav-link">Sou-made bowls</a>
    </div>
  </div>
</div>

<!-- Advertisement section -->
<section class="adv-showcase">
  <div class="adv-container">
    <img src="/assets/healthy/images/build-your-own/Low-calories-jpg.webp" alt="Low Calories" class="adv-img">
    <img src="/assets/healthy/images/build-your-own/High-protein-jpg.webp" alt="High Protein" class="adv-img">
    <img src="/assets/healthy/images/build-your-own/Vegan-jpg.webp" alt="Vegan" class="adv-img">
    <img src="/assets/healthy/images/build-your-own/Balanced-jpg.webp" alt="Balanced" class="adv-img">
    <img src="/assets/healthy/images/build-your-own/Low-calories-jpg.webp" alt="Low Calories" class="adv-img">
  </div>
  <div class="adv-content">
    <h2 class="adv-title">You will find yourself between us!</h2>
    <p class="adv-text">Discover the balance between nature and flavor in every bite.</p>
    <button class="adv-btn">Explore Now</button>
    <img src="/assets/healthy/images/build-your-own/Visual-Line.svg" alt="" class="green">
  </div>
</section>

<!-- Selection Ingredients -->
<div class="container">
  <div class="build-section">
    <div class="selection-container">
      
      <!-- Protein Selection -->
      <div class="selection-step">
        <h2>1 Select Protein</h2>
        <div class="selection-options">
          @for (protein of proteins; track protein.name) {
            <div class="option" 
                 [class.selected]="isSelected('protein', protein)"
                 (click)="selectIngredient('protein', protein)">
              <img [src]="protein.image" [alt]="protein.name">
              <p>{{ protein.name }}</p>
            </div>
          }
          <div class="option large">
            <img src="/assets/healthy/images/build-your-own/High-protein-jpg.webp" alt="Featured Dish">
            <div class="overlay">
              <h1>TRY IT!</h1>
            </div>
          </div>
        </div>
      </div>

      <!-- Carbs Selection -->
      <div class="selection-step">
        <h2>2 Select Carbs</h2>
        <div class="selection-options">
          @for (carb of carbsOptions; track carb.name) {
            <div class="option" 
                 [class.selected]="isSelected('carbs', carb)"
                 (click)="selectIngredient('carbs', carb)">
              <img [src]="carb.image" [alt]="carb.name">
              <p>{{ carb.name }}</p>
            </div>
          }
        </div>
      </div>

      <!-- Side Selection -->
      <div class="selection-step">
        <h2>3 Select Side</h2>
        <div class="selection-options">
          @for (side of sides; track side.name) {
            <div class="option" 
                 [class.selected]="isSelected('side', side)"
                 (click)="selectIngredient('side', side)">
              <img [src]="side.image" [alt]="side.name">
              <p>{{ side.name }}</p>
            </div>
          }
        </div>
      </div>

      <!-- Sauce Selection -->
      <div class="selection-step">
        <h2>4 Select Sauce</h2>
        <div class="selection-options">
          @for (sauce of sauces; track sauce.name) {
            <div class="option" 
                 [class.selected]="isSelected('sauce', sauce)"
                 (click)="selectIngredient('sauce', sauce)">
              <img [src]="sauce.image" [alt]="sauce.name">
              <p>{{ sauce.name }}</p>
            </div>
          }
        </div>
      </div>
    </div>

    <!-- Nutrition Info Bar -->
    <div class="nutrition-info">
      <div class="nutrition-item">
        <span>{{ totalCalories() }}</span>
        <span>Calories</span>
      </div>
      <div class="nutrition-item">
        <span>{{ totalProtein() }}</span>
        <span>Protein</span>
      </div>
      <div class="nutrition-item">
        <span>{{ totalCarbs() }}</span>
        <span>Carbs</span>
      </div>
      <div class="nutrition-item">
        <span>{{ totalFat() }}</span>
        <span>Fat</span>
      </div>
    </div>
  </div>

  <!-- Summary Section -->
  <div class="summary-section">
    <h2>Your bowl</h2>
    <p>Get creative by mixing and matching ingredients and sauces to craft your unique, healthy bowl of comfort while keeping track of calories.</p>
    
    <div class="selected-items">
      <div class="selected-item">
        <h4>Protein <span>{{ selectedItems().protein?.calories || 0 }}</span></h4>
        <p>{{ selectedItems().protein?.name || 'Select a protein' }}</p>
      </div>
      <div class="selected-item">
        <h4>Carbs <span>{{ selectedItems().carbs?.calories || 0 }}</span></h4>
        <p>{{ selectedItems().carbs?.name || 'Select a carb' }}</p>
      </div>
      <div class="selected-item">
        <h4>Side <span>{{ selectedItems().side?.calories || 0 }}</span></h4>
        <p>{{ selectedItems().side?.name || 'Select a side' }}</p>
      </div>
      <div class="selected-item">
        <h4>Sauce <span>{{ selectedItems().sauce?.calories || 0 }}</span></h4>
        <p>{{ selectedItems().sauce?.name || 'Select a sauce' }}</p>
      </div>
    </div>

    <div class="summary-nutrition">
      <p><span>{{ totalCalories() }}</span> Calories</p>
      <p><span>{{ totalProtein() }}</span> Protein</p>
      <p><span>{{ totalCarbs() }}</span> Carbs</p>
      <p><span>{{ totalFat() }}</span> Fat</p>
    </div>

    <div class="action-buttons">
      <button (click)="clearSelections()">Clear selections</button>
      <button (click)="addToCart()">Add to Cart</button>
    </div>
  </div>
</div>

<app-footer></app-footer>
